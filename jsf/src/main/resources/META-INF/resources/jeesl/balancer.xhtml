<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:composite="http://java.sun.com/jsf/composite">
    
	<composite:interface>
		<composite:attribute name="from"/>
		<composite:attribute name="to"/>
		<composite:attribute name="offset"/>
		
		<composite:attribute name="elementIds" required="false"/>
	</composite:interface>
        
	<composite:implementation>

	<h:outputScript rendered="#{not empty cc.attrs.elementIds}">
		$(function() {
			let elements = $('#' + "#{cc.attrs.elementIds}".replaceAll(' ', ',#'));
			let maxHeight = Math.max.apply(null, elements.map((i, e) => $(e).height()));
			elements.height(maxHeight);
		});
	</h:outputScript>
	<h:outputScript rendered="#{empty cc.attrs.elementIds}">
		$(document).ready(function(){
			from = $("div[id='#{cc.attrs.from}']")
			to = $("div[id='#{cc.attrs.to}']")
			to.height(from.height()+#{cc.attrs.offset})
		});
	</h:outputScript>
    
   </composite:implementation>
</html>