<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
    xmlns:aht="http://ahtutils.sourceforge.net/jsf"
    xmlns:aup="http://ahtutils.sourceforge.net/prototype"
    xmlns:composite="http://java.sun.com/jsf/composite">

	<composite:interface>

	</composite:interface>

	<composite:implementation id="implementation">
		<jp:sbItem orientation="right" childs="#{handler.list}" rendered="#{rendered}">
			<f:facet name="label">
				test
			</f:facet>
			
			<f:facet name="top">
				<span>
					<ui:fragment>
	                  <h:commandLink>
	                      <h:graphicImage  library="jeeslPrototypeGfx" name="12/ui/control/select-all.png"/>
	                      <p:ajax event="click" listener="#{handler.toggleAll()}" update="#{update}" oncomplete="#{oncomplete}"/>
	                  </h:commandLink>
	                  <h:commandLink>
	                      <h:graphicImage library="jeeslPrototypeGfx" name="12/ui/control/select-none.png"/>
	                      <p:ajax event="click" listener="#{handler.toggleNone()}" update="#{update}" oncomplete="#{oncomplete}"/>
	                  </h:commandLink>
	                  (#{fn:length(handler.selected)}/#{fn:length(handler.list)})
					</ui:fragment>
				</span>
			</f:facet>
			
			<h:commandLink>
				<ui:insert />
				<aup:sbCheckmark value="#{handler.map[var]}"/>
				<p:ajax event="click" listener="#{handler.toggle(var)}" update="#{update}" oncomplete="#{oncomplete}"/>
			</h:commandLink>
		</jp:sbItem>
	</composite:implementation>
</html>