<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
	 xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:f="http://java.sun.com/jsf/core"
	 xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui" xmlns:o="http://omnifaces.org/ui"
	xmlns:j="http://www.jeesl.org/jsf" xmlns:jp="http://jsf.jeesl.org/prototype" xmlns:jtp="http://jsf.jeesl.org/prototype/tag">
	
	<c:set var="bean" value="#{bean}" />
	<c:set var="path" value="#{path}" />
	<c:set var="update" value="#{update}" />
	
	<h:panelGroup rendered="#{not empty path}" layout="block" styleClass="jeesl-image-wall-wrapper" >
		<ui:repeat var="image" value="#{bean.images}">
			<a class="jeesl-image-wall-image-wrapper">
				<p:graphicImage value="#{path}#{image.code}" />
			</a>
		</ui:repeat>
	</h:panelGroup>
	<h:panelGroup rendered="#{empty path}" layout="block" styleClass="jeesl-image-wall-wrapper" >
		<ui:repeat var="image" value="#{bean.controller.items}">
			<p:commandLink styleClass="jeesl-image-wall-image-wrapper" update="#{update}" action="#{mmgGalleryBean.controller.selectItem(image)}">
				<o:graphicImage value="#{bean.controller.is(image)}" dataURI="true"/>
			</p:commandLink>
		</ui:repeat>
	</h:panelGroup>
</ui:composition>