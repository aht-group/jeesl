<ui:composition
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
>
	<c:set var="loc"  value="#{not empty loc ? loc : localeCode}" />

	<c:forEach var="g" items="#{report.groups}" >

		<p:columns var="col" value="#{report.mapGroupColumns[g]}" rendered="#{empty g.queryColumns}">
			<h:outputText rendered="#{col.queryCell eq 'g1'}" value="#{flat.g1}"/>
		
			<h:outputText rendered="#{col.queryCell eq 'd1'}" value="#{flat.d1}">
				<f:attribute name="styleClass" value="aupNbsc aupRight"/>
				<f:convertNumber groupingUsed="true" maxFractionDigits="2" minFractionDigits="2"/>
			</h:outputText>
			<h:outputText rendered="#{col.queryCell eq 'd2'}" value="#{flat.d2}">
				<f:attribute name="styleClass" value="aupNbsc aupRight"/>
				<f:convertNumber groupingUsed="true" maxFractionDigits="2" minFractionDigits="2"/>
			</h:outputText>
			<h:outputText rendered="#{col.queryCell eq 'd3'}" value="#{flat.d3}">
				<f:attribute name="styleClass" value="aupNbsc aupRight"/>
				<f:convertNumber groupingUsed="true" maxFractionDigits="2" minFractionDigits="2"/>
			</h:outputText>
			<h:outputText rendered="#{col.queryCell eq 'd4'}" value="#{flat.d4}">
				<f:attribute name="styleClass" value="aupNbsc aupRight"/>
				<f:convertNumber groupingUsed="true" maxFractionDigits="2" minFractionDigits="2"/>
			</h:outputText>
		</p:columns>
		
		<p:columns var="col" value="#{report.mapGroupColumns[g]}" rendered="#{g.queryColumns eq 'list1'}">
			<h:outputText value="#{flat.list1[col.position]}">
				<f:attribute name="styleClass" value="aupNbsc aupRight"/>
				<f:convertNumber groupingUsed="true" maxFractionDigits="2" minFractionDigits="2"/>
			</h:outputText>
		</p:columns>
		<p:columns var="col" value="#{report.mapGroupColumns[g]}" rendered="#{g.queryColumns eq 'list2'}">
			<h:outputText value="#{flat.list2[col.position]}">
				<f:attribute name="styleClass" value="aupNbsc aupRight"/>
				<f:convertNumber groupingUsed="true" maxFractionDigits="2" minFractionDigits="2"/>
			</h:outputText>
		</p:columns>
		<p:columns var="col" value="#{report.mapGroupColumns[g]}" rendered="#{g.queryColumns eq 'list3'}">
			<h:outputText value="#{flat.list3[col.position]}">
				<f:attribute name="styleClass" value="aupNbsc aupRight"/>
				<f:convertNumber groupingUsed="true" maxFractionDigits="2" minFractionDigits="2"/>
			</h:outputText>
		</p:columns>
		<p:columns var="col" value="#{report.mapGroupColumns[g]}" rendered="#{g.queryColumns eq 'list4'}">
			<h:outputText value="#{flat.list4[col.position]}">
				<f:attribute name="styleClass" value="aupNbsc aupRight"/>
				<f:convertNumber groupingUsed="true" maxFractionDigits="2" minFractionDigits="2"/>
			</h:outputText>
		</p:columns>
	</c:forEach>
</ui:composition>