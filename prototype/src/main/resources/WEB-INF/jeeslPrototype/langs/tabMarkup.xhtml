<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui"
	xmlns:jtp="http://jsf.jeesl.org/prototype/tag"
>	
	<ui:fragment rendered="#{locales.size() eq 1}">
  		<jtp:inputMarkup widgetId="myId2" value="#{value[locales[0].code]}"/>
  	</ui:fragment>

	<p:tabView var="l" value="#{locales}" rendered="#{locales.size() gt 1}" styleClass="jeesl-tabs jeesl-editor">  
  		<p:tab title="#{l.code}">
  			<ui:remove>
  				<!-- This was planned for selecting the type, e.g. XHTML or Markdown ... -->
  					<p:selectOneMenu value="#{value[l.code].type}" effect="fade" rendered="false">  
                	<f:selectItems value="#{markups}" var="m" itemLabel="#{m.name[localeCode].lang}" itemValue="#{m}"/>
            	</p:selectOneMenu>
  			</ui:remove>
  			<jtp:inputMarkup widgetId="myId" value="#{value[l.code]}"/>
  		</p:tab>  
  	</p:tabView>
  	
</ui:composition>