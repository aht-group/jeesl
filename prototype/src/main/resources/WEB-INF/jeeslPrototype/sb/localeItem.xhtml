<ui:composition
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:jp="http://jsf.jeesl.org/prototype"
  	xmlns:jtp="http://jsf.jeesl.org/prototype/tag"
	xmlns:aup="http://ahtutils.sourceforge.net/prototype"
	xmlns:aht="http://ahtutils.sourceforge.net/jsf"
>
	<c:set var="rendered"  value="#{not empty rendered ? rendered : true}" />
	<c:set var="loc"  value="#{not empty loc ? loc : localeCode}" />

	<aht:li>
		<ui:fragment>
			<jtp:symbolizer value="#{appTranslationBean.mapLocales[loc]}"/>
			...
			<ui:repeat var="l" value="#{appTranslationBean.locales}">
				<h:commandLink>
					<jtp:symbolizer value="#{l}"/>
					<h:outputText value="#{l.code}"/>
					<p:ajax event="click" listener="#{userBean.setLocale(l.code)}" update="@form" oncomplete="javascript:location.reload(true)"/>
				</h:commandLink>
			</ui:repeat>
		</ui:fragment>		
	</aht:li>
</ui:composition>