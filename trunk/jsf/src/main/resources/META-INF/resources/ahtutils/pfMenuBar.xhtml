<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsp/jstl/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:composite="http://java.sun.com/jsf/composite">
    
   <composite:interface>
     <composite:attribute name="value"/>
   </composite:interface>
        
  <composite:implementation>
  
  <p:menubar>
  	<f:forEach var="rootLevelItem" items="#{cc.attrs.value.menuItem}">
  		<f:if test="#{rootLevelItem.menuItem.size()>0}">
  			<p:submenu label="#{rootLevelItem.name}">
  				<f:forEach var="secondLevelMenuItem" items="#{rootLevelItem.menuItem}">
  					<f:if test="#{secondLevelMenuItem.menuItem.size()>0}">
  						<p:submenu label="#{secondLevelMenuItem.name}">
		  				<f:forEach var="thirdLevelMenuItem" items="#{secondLevelMenuItem.menuItem}">
		  					<p:menuitem value="#{thirdLevelMenuItem.name}" url="#{thirdLevelMenuItem.href}" />
		  				</f:forEach>  
		  				</p:submenu>
		  			</f:if>
		  			<f:if test="#{secondLevelMenuItem.menuItem.size()==0}">
  						<p:menuitem value="#{secondLevelMenuItem.name}" url="#{secondLevelMenuItem.href}" />
		  			</f:if>
		  		</f:forEach>
  			</p:submenu>
		</f:if>
		<f:if test="#{rootLevelItem.menuItem.size()==0}">
  			<p:menuitem value="#{rootLevelItem.name}" url="#{rootLevelItem.href}" />
		</f:if>
  	</f:forEach>
  </p:menubar>
  
   </composite:implementation>
</html>