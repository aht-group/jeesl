<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ofx:section xmlns:ofx="http://www.openfuxml.org" id="section.admin.installation.postgresql">
	<ofx:title lang="en">PostgresSQL</ofx:title>
	
	<ofx:paragraph lang="en" >
			PostgreSQL, often simply "Postgres", is an object-relational database management system (ORDBMS)
			with an emphasis on extensibility and standards-compliance.
		</ofx:paragraph>
		
		<ofx:paragraph lang="en" >
			As a database server, its primary function is to store data, securely and supporting best practices,
			and retrieve it later, as requested by other software applications, be it those on the same computer
			or those running on another computer across a network (including the Internet).
		</ofx:paragraph>
		
		<ofx:paragraph lang="en" >
			It can handle workloads ranging from small single-machine applications to large Internet-facing applications
			with many concurrent users.
			Recent versions also provide replication of the database itself for security and scalability.
		</ofx:paragraph>
	
	<ofx:section>
		<ofx:title lang="en">Installation</ofx:title>
		
		<ofx:section container="true" classifier="debianSqueeze">
			<ofx:title>Linux (Debian Squeeze)</ofx:title>
			<ofx:listing>
				<ofx:raw>export http_proxy=http://proxy:3128 (optional)
wget http://download.osgeo.org/postgis/source/postgis-2.0.3.tar.gz
tar xfvz postgis-2.0.3.tar.gz
cd postgis-2.0.3
./configure
make
sudo make install
sudo ldconfig
sudo make comments-install</ofx:raw>
			</ofx:listing>
		</ofx:section>
		
		<ofx:section container="true" classifier="debianWheezy">
			<ofx:title>Linux (Debian Wheezy)</ofx:title>
			<ofx:listing>
				<ofx:raw>apt-cache search postgis
apt-get install postgresql-9.1-postgis</ofx:raw>
			</ofx:listing>
		</ofx:section>
		
		<ofx:section container="true" classifier="ubuntu14">
			<ofx:title>Ubuntu (14.04 LTS)</ofx:title>
			<ofx:listing>
				<ofx:raw>sudo apt-cache search postgis
sudo apt-get install postgresql-9.3-postgis-2.1</ofx:raw>
			</ofx:listing>
		</ofx:section>
		
		<ofx:section container="true" classifier="osx">
			<ofx:title>OSX Yosemite</ofx:title>
			<ofx:listing>
				<ofx:raw>brew install postgis</ofx:raw>
			</ofx:listing>
		</ofx:section>
	</ofx:section>
	
	<ofx:section>
		<ofx:title lang="de">Erstellung der Datenbank</ofx:title>
		<ofx:title lang="en">Database creation</ofx:title>
		
		<ofx:paragraph lang="en" classifier="debianWheezy">
			Detailed Information can be obtained here http://trac.osgeo.org/postgis/wiki/UsersWikiPostGIS20Debian70src
		</ofx:paragraph>
		<ofx:listing classifier="debianWheezy" setting="sql" external="listing/admin/db/postgres/create/debian/wheezy.sql"/>
		
		<ofx:paragraph lang="en" classifier="ubuntu14">
			As user "postgres":
		</ofx:paragraph>
		<ofx:listing classifier="ubuntu14">
			<ofx:raw>CREATE USER **dbName** WITH PASSWORD '**dbName**';
CREATE DATABASE **dbName** OWNER **dbName** ENCODING 'UTF8';
GRANT ALL PRIVILEGES ON DATABASE **dbName** TO **dbName**;</ofx:raw>
		</ofx:listing>
		<ofx:paragraph lang="en" classifier="ubuntu14">
			Then in the console
		</ofx:paragraph>
		<ofx:listing classifier="ubuntu14">
			<ofx:raw>psql -U postgres -d **dbName** -f /usr/share/postgresql/9.3/contrib/postgis-2.1/postgis.sql
psql -U postgres -d **dbName** -f /usr/share/postgresql/9.3/contrib/postgis-2.1/postgis_comments.sql
psql -U postgres -d **dbName** -f /usr/share/postgresql/9.3/contrib/postgis-2.1/spatial_ref_sys.sql</ofx:raw>
		</ofx:listing>
		
		<ofx:listing classifier="osxYosemite" external="listing/admin/db/postgres/create/osx/yosemite.sql"/>
		
	</ofx:section>
	
	<ofx:section>
		<ofx:title lang="en">Correction of table owner</ofx:title>
		
		<ofx:listing classifier="ubuntu14">
			<ofx:raw>ALTER TABLE geometry_columns OWNER TO dss;
ALTER TABLE spatial_ref_sys OWNER TO dss;</ofx:raw>
		</ofx:listing>
		
	</ofx:section>
	
</ofx:section>